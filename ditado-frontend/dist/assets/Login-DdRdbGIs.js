import{_ as D,u as E,r as i,c as h,w as t,V as N,a as z,b as j,o as C,d as a,e as I,f as _,g as o,h as b,i as n,j as A,k as L,l as x,m as T,n as F,p as M,q as S,s as U,t as $}from"./index-Bmu6DO9I.js";const q={class:"d-flex align-center"},O={class:"d-flex align-center gap-4"},P={class:"mb-6"},R={class:"mb-8"},G={class:"text-center"},H={class:"text-center mt-8"},J={__name:"Login",setup(K){const d=z(),u=E(),v=i(""),c=i(""),p=i(!1),g=i(!1),s=i(null),y=i(null),V={obrigatorio:m=>!!m||"Campo obrigatório"};async function B(){var e,f,l,k,w;const{valid:m}=await y.value.validate();if(m){g.value=!0,s.value=null;try{await u.login(v.value,c.value),u.ehAdministrador?d.push("/admin"):u.ehProfessor?d.push("/professor"):u.ehAluno?d.push("/aluno"):d.push("/")}catch(r){((e=r.response)==null?void 0:e.status)===401?s.value="Email ou senha inválidos, ou acesso não foi aprovado":(l=(f=r.response)==null?void 0:f.data)!=null&&l.message?s.value=r.response.data.message:(w=(k=r.response)==null?void 0:k.data)!=null&&w.title?s.value=r.response.data.title:s.value="Erro ao fazer login. Tente novamente."}finally{g.value=!1}}}return(m,e)=>{const f=j("router-link");return C(),h(N,null,{default:t(()=>[a(I,{elevation:"0",color:"white",height:"70"},{default:t(()=>[a(_,{class:"d-flex align-center justify-space-between"},{default:t(()=>[o("div",q,[a(b,{size:"30",class:"mr-2"},{default:t(()=>[...e[4]||(e[4]=[n("mdi-book-open-page-variant",-1)])]),_:1}),e[5]||(e[5]=o("span",{class:"text-h5 font-weight-bold"},"Ditado",-1))]),o("div",O,[e[7]||(e[7]=o("span",{class:"text-body-1"},"Bem-vindo",-1)),a(A,{variant:"outlined",color:"primary","prepend-icon":"mdi-help-circle-outline"},{default:t(()=>[...e[6]||(e[6]=[n(" Ajuda ",-1)])]),_:1})])]),_:1})]),_:1}),a(L,{class:"bg-grey-lighten-4"},{default:t(()=>[a(_,{class:"py-12"},{default:t(()=>[a(x,{class:"mx-auto pa-8","max-width":"500",elevation:"2"},{default:t(()=>[e[13]||(e[13]=o("div",{class:"text-center mb-8"},[o("h1",{class:"text-h4 font-weight-bold mb-2"},"Entrar no Ditado"),o("p",{class:"text-body-1 text-grey-darken-1"}," Digite suas credenciais para continuar ")],-1)),a(F,{onSubmit:M(B,["prevent"]),ref_key:"formulario",ref:y},{default:t(()=>[o("div",P,[e[8]||(e[8]=o("label",{class:"text-body-2 text-grey-darken-2 mb-2 d-block"}," Email ",-1)),a(S,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=l=>v.value=l),placeholder:"seu@email.com",variant:"outlined",density:"comfortable",rules:[V.obrigatorio],"hide-details":"auto"},null,8,["modelValue","rules"])]),o("div",R,[e[9]||(e[9]=o("label",{class:"text-body-2 text-grey-darken-2 mb-2 d-block"}," Senha ",-1)),a(S,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=l=>c.value=l),placeholder:"Digite sua senha",type:p.value?"text":"password",variant:"outlined",density:"comfortable","append-inner-icon":p.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[2]||(e[2]=l=>p.value=!p.value),rules:[V.obrigatorio],"hide-details":"auto"},null,8,["modelValue","type","append-inner-icon","rules"])]),a(A,{type:"submit",color:"primary",size:"large",block:"",loading:g.value,class:"mb-4 text-none","prepend-icon":"mdi-login"},{default:t(()=>[...e[10]||(e[10]=[n(" Entrar ",-1)])]),_:1},8,["loading"]),o("div",G,[e[12]||(e[12]=o("span",{class:"text-body-2 text-grey-darken-1"}," Não tem conta? ",-1)),a(f,{to:"/cadastro",class:"text-primary text-decoration-none font-weight-medium"},{default:t(()=>[...e[11]||(e[11]=[n(" Cadastre-se ",-1)])]),_:1})])]),_:1},512),s.value?(C(),h(U,{key:0,type:"error",class:"mt-6",variant:"tonal",closable:"","onClick:close":e[3]||(e[3]=l=>s.value=null)},{default:t(()=>[n($(s.value),1)]),_:1})):T("",!0)]),_:1}),o("div",H,[a(x,{class:"d-inline-flex align-center pa-3 mr-4",elevation:"0",color:"success-lighten-5"},{default:t(()=>[a(b,{color:"success",class:"mr-2"},{default:t(()=>[...e[14]||(e[14]=[n("mdi-lock-check",-1)])]),_:1}),e[15]||(e[15]=o("span",{class:"text-body-2"},"Seus dados estão seguros",-1))]),_:1}),a(x,{class:"d-inline-flex align-center pa-3",elevation:"0",color:"info-lighten-5"},{default:t(()=>[a(b,{color:"info",class:"mr-2"},{default:t(()=>[...e[16]||(e[16]=[n("mdi-volume-high",-1)])]),_:1}),e[17]||(e[17]=o("span",{class:"text-body-2"},"Ouvimos melhor com fones de ouvido",-1))]),_:1})])]),_:1})]),_:1})]),_:1})}}},W=D(J,[["__scopeId","data-v-95af7184"]]);export{W as default};
