import{_ as le,u as re,r as m,y as S,S as ne,I as p,d as t,c as y,m as ie,w as a,l as v,T as R,M as de,a as ue,o as u,U as g,g as o,t as d,D as me,W as k,h as n,i as s,j as f,G as D,B as ce,Z as fe,$ as U,X as w,H as h,J as j,a0 as G,A as M,C as $,E as q,F as H,R as pe,q as ve,a1 as ge,Y as xe}from"./index-CiDA2lG_.js";import{d as J}from"./ditadoService-ulOclhXP.js";const be={class:"text-h4 font-weight-bold mb-2"},ye={class:"mt-4"},ke={class:"d-flex flex-column gap-2 text-left text-caption text-grey-darken-1"},Ve={class:"d-flex align-center"},Ce={class:"d-flex align-center"},we={class:"mt-4"},ze={class:"d-flex flex-column gap-2 text-left text-caption text-grey-darken-1"},_e={class:"d-flex align-center"},Se={class:"d-flex align-center"},De={class:"mt-4"},Ee={class:"d-flex flex-column gap-2 text-left text-caption text-grey-darken-1"},Pe={class:"d-flex align-center"},Te={class:"d-flex align-center"},Be={class:"text-caption mt-1"},Fe={class:"d-flex gap-2"},Ie={key:0,class:"text-center py-12"},Le={key:1,class:"text-center py-12"},Ae={key:2},Ne={class:"d-flex align-center gap-2"},Re={__name:"PainelProfessor",setup(Ue){const E=ue(),W=re(),P=m({turmas:0,ditados:0}),T=m([]),V=m([]),z=m(!1),B=m(!1),x=m(""),C=m(null),X=["1º ano","2º ano","3º ano","4º ano","5º ano","6º ano","7º ano","8º ano","9º ano"],b=m({show:!1,mensagem:"",color:"info"}),F=S(()=>{let l=[...T.value];if(x.value&&x.value.trim()!==""){const e=x.value.toLowerCase().trim();l=l.filter(r=>{var i;return(i=r.titulo)==null?void 0:i.toLowerCase().includes(e)})}return C.value&&(l=l.filter(e=>e.serie===C.value)),l}),_=S(()=>V.value.length>0),I=S(()=>V.value.length);ne(()=>{Y(),Z(),K()});async function Y(){B.value=!0;try{const l=await J.listarTodos();P.value.ditados=l.length}catch(l){console.error("Erro ao carregar estatísticas:",l)}finally{B.value=!1}}async function Z(){z.value=!0;try{const l=await J.listarTodos();T.value=[],P.value.ditados=l.length}catch(l){console.error("Erro ao carregar ditados:",l),c("Erro ao carregar ditados","error")}finally{z.value=!1}}async function K(){try{V.value=[]}catch(l){console.error("Erro ao carregar solicitações pendentes:",l)}}async function O(l){try{c("Funcionalidade ainda não implementada","warning")}catch(e){console.error("Erro ao aprovar solicitação:",e),c("Erro ao aprovar solicitação","error")}}async function Q(l){try{c("Funcionalidade ainda não implementada","warning")}catch(e){console.error("Erro ao rejeitar solicitação:",e),c("Erro ao rejeitar solicitação","error")}}function L(l){return new Date(l).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ee(l){return!l||!l.nome?"A":l.nome.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase()}function te(l){return l>=80?"success":l>=60?"warning":"error"}function A(){E.push("/cadastro-ditado")}function ae(){E.push("/turmas")}function oe(){c("Funcionalidade em desenvolvimento","info")}function se(l){c("Funcionalidade em desenvolvimento","info")}function c(l,e="info"){b.value={show:!0,mensagem:l,color:e}}return(l,e)=>(u(),p("div",null,[t(v,{class:"mb-6",elevation:"1"},{default:a(()=>[t(g,{class:"pa-6"},{default:a(()=>{var r,i;return[o("h1",be," Bem-vindo(a), "+d((i=(r=me(W).usuario)==null?void 0:r.nome)==null?void 0:i.split(" ")[0]),1),e[3]||(e[3]=o("p",{class:"text-body-1 text-grey-darken-1"}," Gerencie textos, turmas, relatórios e ditados passados ",-1))]}),_:1})]),_:1}),t(R,{class:"mb-6"},{default:a(()=>[t(k,{cols:"12",md:"4"},{default:a(()=>[t(v,{elevation:"1",class:"h-100 action-card",hover:"",onClick:A},{default:a(()=>[t(g,{class:"pa-6 text-center"},{default:a(()=>[t(n,{size:"64",color:"primary",class:"mb-4"},{default:a(()=>[...e[4]||(e[4]=[s("mdi-file-document-plus",-1)])]),_:1}),e[10]||(e[10]=o("h3",{class:"text-h6 font-weight-bold mb-2"},"Cadastro de Ditados",-1)),e[11]||(e[11]=o("p",{class:"text-body-2 text-grey-darken-1"}," Crie e organize textos para futuras sessões de ditado. ",-1)),t(f,{color:"primary",variant:"flat","prepend-icon":"mdi-plus",class:"mt-4 text-none"},{default:a(()=>[...e[5]||(e[5]=[s(" Novo ditado ",-1)])]),_:1}),o("div",ye,[t(D,{class:"mb-3"}),o("div",ke,[o("div",Ve,[t(n,{size:"16",class:"mr-2"},{default:a(()=>[...e[6]||(e[6]=[s("mdi-pound",-1)])]),_:1}),e[7]||(e[7]=o("span",null,"Etiquete por série, tema e dificuldade",-1))]),o("div",Ce,[t(n,{size:"16",class:"mr-2"},{default:a(()=>[...e[8]||(e[8]=[s("mdi-book-open",-1)])]),_:1}),e[9]||(e[9]=o("span",null,"Importe .txt ou cole conteúdo",-1))])])])]),_:1})]),_:1})]),_:1}),t(k,{cols:"12",md:"4"},{default:a(()=>[t(v,{elevation:"1",class:ce(["h-100 action-card",{"action-card-destaque":_.value}]),hover:"",onClick:ae},{default:a(()=>[t(g,{class:"pa-6 text-center"},{default:a(()=>[_.value?(u(),y(fe,{key:0,color:"error",floating:"",content:I.value,class:"mb-4"},{default:a(()=>[t(n,{size:"64",color:"success"},{default:a(()=>[...e[12]||(e[12]=[s("mdi-school",-1)])]),_:1})]),_:1},8,["content"])):(u(),y(n,{key:1,size:"64",color:"success",class:"mb-4"},{default:a(()=>[...e[13]||(e[13]=[s("mdi-school",-1)])]),_:1})),e[19]||(e[19]=o("h3",{class:"text-h6 font-weight-bold mb-2"},"Gerenciamento de Turma",-1)),e[20]||(e[20]=o("p",{class:"text-body-2 text-grey-darken-1"}," Adicione alunos, organize grupos e defina sessões. ",-1)),t(f,{color:"success",variant:"flat","prepend-icon":"mdi-account-plus",class:"mt-4 text-none"},{default:a(()=>[...e[14]||(e[14]=[s(" Novo aluno ",-1)])]),_:1}),o("div",we,[t(D,{class:"mb-3"}),o("div",ze,[o("div",_e,[t(n,{size:"16",class:"mr-2"},{default:a(()=>[...e[15]||(e[15]=[s("mdi-shield-lock",-1)])]),_:1}),e[16]||(e[16]=o("span",null,"Convites com código seguro",-1))]),o("div",Se,[t(n,{size:"16",class:"mr-2"},{default:a(()=>[...e[17]||(e[17]=[s("mdi-calendar",-1)])]),_:1}),e[18]||(e[18]=o("span",null,"Agende ditados por data e tempo",-1))])])])]),_:1})]),_:1},8,["class"])]),_:1}),t(k,{cols:"12",md:"4"},{default:a(()=>[t(v,{elevation:"1",class:"h-100 action-card",hover:"",onClick:oe},{default:a(()=>[t(g,{class:"pa-6 text-center"},{default:a(()=>[t(n,{size:"64",color:"info",class:"mb-4"},{default:a(()=>[...e[21]||(e[21]=[s("mdi-chart-line",-1)])]),_:1}),e[27]||(e[27]=o("h3",{class:"text-h6 font-weight-bold mb-2"},"Relatórios",-1)),e[28]||(e[28]=o("p",{class:"text-body-2 text-grey-darken-1"}," Acompanhe evolução por aluno, turma e habilidade. ",-1)),t(f,{color:"info",variant:"flat","prepend-icon":"mdi-chart-box",class:"mt-4 text-none"},{default:a(()=>[...e[22]||(e[22]=[s(" Visão geral ",-1)])]),_:1}),o("div",De,[t(D,{class:"mb-3"}),o("div",Ee,[o("div",Pe,[t(n,{size:"16",class:"mr-2"},{default:a(()=>[...e[23]||(e[23]=[s("mdi-percent",-1)])]),_:1}),e[24]||(e[24]=o("span",null,"Taxa de acerto por fonema e acentuação",-1))]),o("div",Te,[t(n,{size:"16",class:"mr-2"},{default:a(()=>[...e[25]||(e[25]=[s("mdi-clock-outline",-1)])]),_:1}),e[26]||(e[26]=o("span",null,"Comparativos entre turmas",-1))])])])]),_:1})]),_:1})]),_:1})]),_:1}),_.value?(u(),y(v,{key:0,class:"mb-6 elevation-1 border-error"},{default:a(()=>[t(U,{class:"bg-error text-white pa-4 d-flex align-center"},{default:a(()=>[t(n,{class:"mr-2"},{default:a(()=>[...e[29]||(e[29]=[s("mdi-bell-ring",-1)])]),_:1}),e[30]||(e[30]=s(" Solicitações de Ingresso Pendentes ",-1)),t(w,{color:"white","text-color":"error",size:"small",class:"ml-2"},{default:a(()=>[s(d(I.value),1)]),_:1})]),_:1}),t(g,{class:"pa-6"},{default:a(()=>[t(h,{class:"bg-transparent"},{default:a(()=>[(u(!0),p(j,null,G(V.value,r=>(u(),y(M,{key:r.id,class:"mb-3 rounded border",elevation:"0"},{prepend:a(()=>[t(H,{color:"warning"},{default:a(()=>[s(d(ee(r.usuario)),1)]),_:2},1024)]),append:a(()=>[o("div",Fe,[t(f,{icon:"mdi-check",size:"small",variant:"flat",color:"success",onClick:i=>O(r)},null,8,["onClick"]),t(f,{icon:"mdi-close",size:"small",variant:"flat",color:"error",onClick:i=>Q(r)},null,8,["onClick"])])]),default:a(()=>[t($,{class:"text-h6 font-weight-bold mb-1"},{default:a(()=>{var i;return[s(d((i=r.usuario)==null?void 0:i.nome),1)]}),_:2},1024),t(q,{class:"text-body-2 mb-2"},{default:a(()=>{var i;return[o("div",null,d((i=r.usuario)==null?void 0:i.email),1),o("div",Be,[s(" Solicitado em "+d(L(r.dataSolicitacao))+" ",1),t(w,{color:"info",variant:"flat",size:"x-small",class:"ml-2"},{default:a(()=>{var N;return[s(d((N=r.turma)==null?void 0:N.nome),1)]}),_:2},1024)])]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):ie("",!0),t(v,{elevation:"1"},{default:a(()=>[t(U,{class:"pa-6 d-flex align-center border-b"},{default:a(()=>[t(n,{class:"mr-3",color:"grey-darken-2"},{default:a(()=>[...e[31]||(e[31]=[s("mdi-headphones",-1)])]),_:1}),e[33]||(e[33]=o("span",{class:"text-h6 font-weight-bold"},"Ditados passados",-1)),t(pe),t(w,{color:"warning",variant:"flat"},{default:a(()=>[...e[32]||(e[32]=[s(" Últimos 30 dias ",-1)])]),_:1})]),_:1}),t(g,{class:"pa-6"},{default:a(()=>[t(R,{class:"mb-4"},{default:a(()=>[t(k,{cols:"12",sm:"6"},{default:a(()=>[t(ve,{modelValue:x.value,"onUpdate:modelValue":e[0]||(e[0]=r=>x.value=r),label:"Filtrar por turma",placeholder:"Digite o nome da turma",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-magnify",clearable:"","hide-details":""},null,8,["modelValue"])]),_:1}),t(k,{cols:"12",sm:"6"},{default:a(()=>[t(ge,{modelValue:C.value,"onUpdate:modelValue":e[1]||(e[1]=r=>C.value=r),label:"Série",items:X,variant:"outlined",density:"comfortable",clearable:"","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),z.value?(u(),p("div",Ie,[t(xe,{indeterminate:"",color:"primary",size:"64"}),e[34]||(e[34]=o("p",{class:"text-grey mt-4"},"Carregando ditados...",-1))])):F.value.length===0?(u(),p("div",Le,[t(n,{size:"64",color:"grey-lighten-1"},{default:a(()=>[...e[35]||(e[35]=[s("mdi-folder-open-outline",-1)])]),_:1}),e[37]||(e[37]=o("p",{class:"text-body-1 text-grey mt-4"},"Nenhum ditado encontrado",-1)),t(f,{color:"primary",variant:"flat","prepend-icon":"mdi-plus",class:"mt-4 text-none",onClick:A},{default:a(()=>[...e[36]||(e[36]=[s(" Configure um novo ditado a partir de um texto existente na sua biblioteca ",-1)])]),_:1})])):(u(),p("div",Ae,[t(h,{class:"bg-transparent"},{default:a(()=>[(u(!0),p(j,null,G(F.value,r=>(u(),y(M,{key:r.id,class:"mb-3 rounded border",elevation:"0"},{prepend:a(()=>[t(H,{color:"primary",size:"48"},{default:a(()=>[t(n,{color:"white"},{default:a(()=>[...e[38]||(e[38]=[s("mdi-headphones",-1)])]),_:1})]),_:1})]),append:a(()=>[o("div",Ne,[t(w,{color:te(r.media||78),variant:"flat",size:"large"},{default:a(()=>[t(n,{start:"",size:"18"},{default:a(()=>[...e[41]||(e[41]=[s("mdi-check-circle",-1)])]),_:1}),s(" Média "+d(r.media||"78")+"% ",1)]),_:2},1032,["color"]),t(f,{icon:"mdi-open-in-new",size:"small",variant:"text",color:"primary",onClick:i=>se(r)},null,8,["onClick"])])]),default:a(()=>[t($,{class:"text-h6 font-weight-bold mb-1"},{default:a(()=>[s(d(r.titulo),1)]),_:2},1024),t(q,{class:"text-body-2 mb-2"},{default:a(()=>[t(n,{size:"16",class:"mr-1"},{default:a(()=>[...e[39]||(e[39]=[s("mdi-calendar",-1)])]),_:1}),s(" Realizado em "+d(L(r.dataCriacao))+" ",1),t(n,{size:"16",class:"ml-3 mr-1"},{default:a(()=>[...e[40]||(e[40]=[s("mdi-account-multiple",-1)])]),_:1}),s(" "+d(r.alunos||"24")+" alunos ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]))]),_:1})]),_:1}),t(de,{modelValue:b.value.show,"onUpdate:modelValue":e[2]||(e[2]=r=>b.value.show=r),color:b.value.color,timeout:3e3},{default:a(()=>[s(d(b.value.mensagem),1)]),_:1},8,["modelValue","color"])]))}},Ge=le(Re,[["__scopeId","data-v-a8476127"]]);export{Ge as default};
