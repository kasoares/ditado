import{_ as F,r as i,c as y,w as o,V as O,a as T,b as z,o as x,d as l,e as R,f as B,g as a,h as V,i as r,j as I,k as q,l as k,m as M,n as J,p as L,q as v,s as j,t as D,v as P}from"./index-CYStog4Z.js";const G={class:"d-flex align-center"},H={class:"d-flex align-center gap-4"},K={class:"mb-4"},Q={class:"mb-4"},W={class:"mb-4"},X={class:"mb-4"},Y={class:"mb-8"},Z={class:"text-center"},_={class:"text-center mt-8"},ee={__name:"Cadastro",setup(ae){const N=T(),s=i({nome:"",login:"",senha:"",matricula:""}),C=i(""),p=i(!1),c=i(!1),g=i(!1),u=i(null),m=i(null),w=i(null),d={obrigatorio:n=>!!n||"Campo obrigatório",email:n=>/.+@.+\..+/.test(n)||"Email inválido",senhaMinima:n=>n.length>=6||"Senha deve ter no mínimo 6 caracteres",senhasIguais:n=>n===s.value.senha||"As senhas não conferem"};async function U(){var e,f,t,h,S,A;const{valid:n}=await w.value.validate();if(n){g.value=!0,u.value=null,m.value=null;try{await P.solicitarAcesso({nome:s.value.nome,login:s.value.login,senha:s.value.senha,matricula:s.value.matricula||null}),m.value="Solicitação enviada com sucesso! Aguarde aprovação. Redirecionando...",setTimeout(()=>{N.push("/login")},2500)}catch(b){if((f=(e=b.response)==null?void 0:e.data)!=null&&f.errors){const E=b.response.data.errors,$=Object.values(E).flat().join(", ");u.value=$}else u.value=((h=(t=b.response)==null?void 0:t.data)==null?void 0:h.message)||((A=(S=b.response)==null?void 0:S.data)==null?void 0:A.title)||"Erro ao solicitar acesso"}finally{g.value=!1}}}return(n,e)=>{const f=z("router-link");return x(),y(O,null,{default:o(()=>[l(R,{elevation:"0",color:"white",height:"70"},{default:o(()=>[l(B,{class:"d-flex align-center justify-space-between"},{default:o(()=>[a("div",G,[l(V,{size:"30",class:"mr-2"},{default:o(()=>[...e[9]||(e[9]=[r("mdi-book-open-page-variant",-1)])]),_:1}),e[10]||(e[10]=a("span",{class:"text-h5 font-weight-bold"},"Ditado",-1))]),a("div",H,[e[12]||(e[12]=a("span",{class:"text-body-1"},"Bem-vindo",-1)),l(I,{variant:"outlined",color:"primary","prepend-icon":"mdi-help-circle-outline"},{default:o(()=>[...e[11]||(e[11]=[r(" Ajuda ",-1)])]),_:1})])]),_:1})]),_:1}),l(q,{class:"bg-grey-lighten-4"},{default:o(()=>[l(B,{class:"py-12"},{default:o(()=>[l(k,{class:"mx-auto pa-8","max-width":"550",elevation:"2"},{default:o(()=>[e[21]||(e[21]=a("div",{class:"text-center mb-8"},[a("h1",{class:"text-h4 font-weight-bold mb-2"},"Criar Conta"),a("p",{class:"text-body-1 text-grey-darken-1"}," Preencha os dados abaixo para começar ")],-1)),l(J,{onSubmit:L(U,["prevent"]),ref_key:"formulario",ref:w},{default:o(()=>[a("div",K,[e[13]||(e[13]=a("label",{class:"text-body-2 text-grey-darken-2 mb-2 d-block"}," Nome completo ",-1)),l(v,{modelValue:s.value.nome,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value.nome=t),placeholder:"Digite seu nome",variant:"outlined",density:"comfortable",rules:[d.obrigatorio],"hide-details":"auto"},null,8,["modelValue","rules"])]),a("div",Q,[e[14]||(e[14]=a("label",{class:"text-body-2 text-grey-darken-2 mb-2 d-block"}," Email (Login) ",-1)),l(v,{modelValue:s.value.login,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value.login=t),placeholder:"seu@email.com",type:"email",variant:"outlined",density:"comfortable",rules:[d.obrigatorio,d.email],"hide-details":"auto"},null,8,["modelValue","rules"])]),a("div",W,[e[15]||(e[15]=a("label",{class:"text-body-2 text-grey-darken-2 mb-2 d-block"}," Matrícula (Opcional) ",-1)),l(v,{modelValue:s.value.matricula,"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.matricula=t),placeholder:"Digite sua matrícula (se tiver)",variant:"outlined",density:"comfortable","hide-details":"auto"},null,8,["modelValue"])]),a("div",X,[e[16]||(e[16]=a("label",{class:"text-body-2 text-grey-darken-2 mb-2 d-block"}," Senha ",-1)),l(v,{modelValue:s.value.senha,"onUpdate:modelValue":e[3]||(e[3]=t=>s.value.senha=t),placeholder:"Mínimo 6 caracteres",type:p.value?"text":"password",variant:"outlined",density:"comfortable","append-inner-icon":p.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[4]||(e[4]=t=>p.value=!p.value),rules:[d.obrigatorio,d.senhaMinima],"hide-details":"auto"},null,8,["modelValue","type","append-inner-icon","rules"])]),a("div",Y,[e[17]||(e[17]=a("label",{class:"text-body-2 text-grey-darken-2 mb-2 d-block"}," Confirmar senha ",-1)),l(v,{modelValue:C.value,"onUpdate:modelValue":e[5]||(e[5]=t=>C.value=t),placeholder:"Digite a senha novamente",type:c.value?"text":"password",variant:"outlined",density:"comfortable","append-inner-icon":c.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[6]||(e[6]=t=>c.value=!c.value),rules:[d.obrigatorio,d.senhasIguais],"hide-details":"auto"},null,8,["modelValue","type","append-inner-icon","rules"])]),l(I,{type:"submit",color:"primary",size:"large",block:"",loading:g.value,class:"mb-4 text-none","prepend-icon":"mdi-account-plus"},{default:o(()=>[...e[18]||(e[18]=[r(" Criar Conta ",-1)])]),_:1},8,["loading"]),a("div",Z,[e[20]||(e[20]=a("span",{class:"text-body-2 text-grey-darken-1"}," Já tem conta? ",-1)),l(f,{to:"/login",class:"text-primary text-decoration-none font-weight-medium"},{default:o(()=>[...e[19]||(e[19]=[r(" Faça login ",-1)])]),_:1})])]),_:1},512),u.value?(x(),y(j,{key:0,type:"error",class:"mt-6",variant:"tonal",closable:"","onClick:close":e[7]||(e[7]=t=>u.value=null)},{default:o(()=>[r(D(u.value),1)]),_:1})):M("",!0),m.value?(x(),y(j,{key:1,type:"success",class:"mt-6",variant:"tonal",closable:"","onClick:close":e[8]||(e[8]=t=>m.value=null)},{default:o(()=>[r(D(m.value),1)]),_:1})):M("",!0)]),_:1}),a("div",_,[l(k,{class:"d-inline-flex align-center pa-3 mr-4",elevation:"0",color:"success-lighten-5"},{default:o(()=>[l(V,{color:"success",class:"mr-2"},{default:o(()=>[...e[22]||(e[22]=[r("mdi-lock-check",-1)])]),_:1}),e[23]||(e[23]=a("span",{class:"text-body-2"},"Seus dados estão seguros",-1))]),_:1}),l(k,{class:"d-inline-flex align-center pa-3",elevation:"0",color:"info-lighten-5"},{default:o(()=>[l(V,{color:"info",class:"mr-2"},{default:o(()=>[...e[24]||(e[24]=[r("mdi-volume-high",-1)])]),_:1}),e[25]||(e[25]=a("span",{class:"text-body-2"},"Ouvimos melhor com fones de ouvido",-1))]),_:1})])]),_:1})]),_:1})]),_:1})}}},oe=F(ee,[["__scopeId","data-v-b7fc22af"]]);export{oe as default};
