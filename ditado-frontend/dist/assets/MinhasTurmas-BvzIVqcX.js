import{_ as O,u as X,r as c,S as H,I as p,d as t,w as a,l as v,a8 as K,aa as Q,a2 as Y,M as Z,a as ee,o as i,U as y,g as l,a9 as A,i as o,h as d,t as n,ab as B,T as V,c as f,m as N,W as m,J as h,a0 as C,$ as P,X as U,G as j,a4 as I,j as T,p as R}from"./index-DuZrF_tf.js";import{t as ae}from"./turmaService-BLHpVfEt.js";import{d as te}from"./ditadoService-Blmaj7LV.js";const se={class:"d-flex align-center justify-space-between"},le={class:"text-body-2 text-grey-darken-1 mb-3"},oe={class:"d-flex align-center gap-2 mb-3"},re={class:"text-caption text-grey-darken-1"},ne={class:"d-flex align-center gap-2"},ie={class:"text-caption text-grey-darken-1"},de={class:"text-h6 font-weight-bold mb-2"},ue={class:"text-body-2 text-grey-darken-1 mb-2"},ce={class:"text-caption text-grey-darken-2"},me={class:"d-flex align-center"},fe={key:0,class:"text-center py-8"},ge={class:"text-h6 font-weight-bold mb-2"},pe={class:"text-body-2 text-grey-darken-1 mb-3"},ve={class:"d-flex align-center gap-2 mb-2"},ye={class:"text-caption text-grey-darken-1"},xe={class:"d-flex align-center gap-2"},be={__name:"MinhasTurmas",setup(_e){const W=ee();X();const x=c([]),b=c([]),w=c([]),S=c(!1),_=c("turmas"),k=c(!1),D=c(null),g=c({show:!1,mensagem:"",color:"success"});H(async()=>{await F()});async function F(){S.value=!0;try{await Promise.all([L(),q()])}catch(r){console.error("Erro ao carregar dados:",r),M("Erro ao carregar dados","error")}finally{S.value=!1}}async function L(){try{const r=await ae.listarTodas();x.value=r}catch(r){console.error("Erro ao carregar minhas turmas:",r)}}async function q(){try{b.value=[]}catch(r){console.error("Erro ao carregar solicitações:",r)}}async function z(r){D.value=r;try{w.value=await te.listarTodos()}catch(e){console.error("Erro ao carregar ditados:",e),M("Erro ao carregar ditados","error")}k.value=!0}function G(r){z(r)}function E(r){W.push(`/realizar-ditado/${r.id}`)}function J(r){return new Date(r).toLocaleDateString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function M(r,e="success"){g.value={show:!0,mensagem:r,color:e}}return(r,e)=>(i(),p("div",null,[t(v,{class:"mb-6",elevation:"1"},{default:a(()=>[t(y,{class:"pa-6"},{default:a(()=>[...e[5]||(e[5]=[l("div",{class:"d-flex align-center justify-space-between"},[l("div",null,[l("h1",{class:"text-h4 font-weight-bold mb-2"},"Minhas Turmas"),l("p",{class:"text-body-1 text-grey-darken-1"}," Visualize suas turmas e realize os ditados disponíveis ")])],-1)])]),_:1})]),_:1}),t(K,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=s=>_.value=s),color:"primary",class:"mb-6"},{default:a(()=>[t(A,{value:"turmas"},{default:a(()=>[t(d,{start:""},{default:a(()=>[...e[6]||(e[6]=[o("mdi-school",-1)])]),_:1}),o(" Turmas Ativas ("+n(x.value.length)+") ",1)]),_:1}),t(A,{value:"pendentes"},{default:a(()=>[t(d,{start:""},{default:a(()=>[...e[7]||(e[7]=[o("mdi-clock",-1)])]),_:1}),o(" Pendentes ("+n(b.value.length)+") ",1)]),_:1})]),_:1},8,["modelValue"]),t(Q,{modelValue:_.value,"onUpdate:modelValue":e[1]||(e[1]=s=>_.value=s)},{default:a(()=>[t(B,{value:"turmas"},{default:a(()=>[t(V,null,{default:a(()=>[x.value.length===0?(i(),f(m,{key:0,cols:"12",class:"text-center py-12"},{default:a(()=>[t(d,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:a(()=>[...e[8]||(e[8]=[o(" mdi-school-outline ",-1)])]),_:1}),e[9]||(e[9]=l("p",{class:"text-h6 text-grey-darken-1 mb-2"},"Você não está em nenhuma turma",-1)),e[10]||(e[10]=l("p",{class:"text-body-2 text-grey-darken-2 mb-4"}," Aguarde até que um professor ou administrador o adicione a uma turma ",-1))]),_:1})):N("",!0),(i(!0),p(h,null,C(x.value,s=>(i(),f(m,{key:s.id,cols:"12",md:"6",lg:"4"},{default:a(()=>[t(v,{class:"h-100 d-flex flex-column",elevation:"1",onClick:u=>G(s),style:{cursor:"pointer"}},{default:a(()=>[t(P,{class:"bg-primary text-white pb-2"},{default:a(()=>[l("div",se,[l("span",null,n(s.nome),1),t(U,{color:"white","text-color":"primary",size:"small"},{default:a(()=>{var u;return[o(n(((u=s.ditados)==null?void 0:u.length)||0)+" ditados ",1)]}),_:2},1024)])]),_:2},1024),t(y,{class:"flex-grow-1 pa-4"},{default:a(()=>[l("p",le,n(s.descricao||"Sem descrição"),1),t(j,{class:"my-3"}),l("div",oe,[t(d,{size:"small",color:"grey-darken-1"},{default:a(()=>[...e[11]||(e[11]=[o("mdi-key",-1)])]),_:1}),l("span",re,n(s.codigo),1)]),l("div",ne,[t(d,{size:"small",color:"grey-darken-1"},{default:a(()=>[...e[12]||(e[12]=[o("mdi-account-multiple",-1)])]),_:1}),l("span",ie,n(s.totalAlunos||0)+" alunos ",1)])]),_:2},1024),t(I,{class:"pa-4 bg-grey-lighten-5"},{default:a(()=>[t(T,{color:"primary",variant:"flat",width:"100%",class:"text-none",onClick:R(u=>z(s),["stop"])},{default:a(()=>[...e[13]||(e[13]=[o(" Ver Ditados ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),t(B,{value:"pendentes"},{default:a(()=>[t(V,null,{default:a(()=>[b.value.length===0?(i(),f(m,{key:0,cols:"12",class:"text-center py-12"},{default:a(()=>[t(d,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:a(()=>[...e[14]||(e[14]=[o(" mdi-check-circle-outline ",-1)])]),_:1}),e[15]||(e[15]=l("p",{class:"text-h6 text-grey-darken-1"},"Nenhuma solicitação pendente",-1))]),_:1})):N("",!0),(i(!0),p(h,null,C(b.value,s=>(i(),f(m,{key:s.id,cols:"12"},{default:a(()=>[t(v,{elevation:"1",class:"mb-4"},{default:a(()=>[t(y,{class:"pa-6"},{default:a(()=>[t(V,{align:"center"},{default:a(()=>[t(m,{cols:"12",md:"8"},{default:a(()=>{var u,$;return[l("h3",de,n((u=s.turma)==null?void 0:u.nome),1),l("p",ue,n(($=s.turma)==null?void 0:$.descricao),1),l("p",ce," Solicitado em "+n(J(s.dataSolicitacao)),1)]}),_:2},1024),t(m,{cols:"12",md:"4",class:"text-md-right"},{default:a(()=>[t(U,{color:"warning",variant:"flat"},{default:a(()=>[t(d,{start:""},{default:a(()=>[...e[16]||(e[16]=[o("mdi-clock",-1)])]),_:1}),e[17]||(e[17]=o(" Pendente ",-1))]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Y,{modelValue:k.value,"onUpdate:modelValue":e[3]||(e[3]=s=>k.value=s),"max-width":"900",persistent:""},{default:a(()=>[t(v,null,{default:a(()=>[t(P,{class:"bg-primary text-white pa-4 d-flex align-center justify-space-between"},{default:a(()=>{var s;return[l("div",me,[t(d,{class:"mr-2"},{default:a(()=>[...e[18]||(e[18]=[o("mdi-file-document",-1)])]),_:1}),o(" Ditados - "+n((s=D.value)==null?void 0:s.nome),1)]),t(T,{icon:"mdi-close",variant:"text",color:"white",onClick:e[2]||(e[2]=u=>k.value=!1)})]}),_:1}),t(y,{class:"pa-6"},{default:a(()=>[w.value.length===0?(i(),p("div",fe,[t(d,{size:"48",color:"grey-lighten-1",class:"mb-2"},{default:a(()=>[...e[19]||(e[19]=[o(" mdi-file-document-outline ",-1)])]),_:1}),e[20]||(e[20]=l("p",{class:"text-grey-darken-1"},"Nenhum ditado disponível nessa turma",-1))])):(i(),f(V,{key:1},{default:a(()=>[(i(!0),p(h,null,C(w.value,s=>(i(),f(m,{key:s.id,cols:"12",md:"6"},{default:a(()=>[t(v,{elevation:"0",class:"border h-100",onClick:u=>E(s)},{default:a(()=>[t(y,{class:"pa-4"},{default:a(()=>[l("h4",ge,n(s.titulo),1),l("p",pe,n(s.descricao||"Sem descrição"),1),t(j,{class:"my-3"}),l("div",ve,[t(d,{size:"small",color:"info"},{default:a(()=>[...e[21]||(e[21]=[o("mdi-format-text",-1)])]),_:1}),l("span",ye,n(s.palavrasOmitidas)+" palavras ",1)]),l("div",xe,[t(d,{size:"small",color:"success"},{default:a(()=>[...e[22]||(e[22]=[o("mdi-music",-1)])]),_:1}),e[23]||(e[23]=l("span",{class:"text-caption text-grey-darken-1"}," Com áudio ",-1))])]),_:2},1024),t(I,{class:"pa-4 bg-grey-lighten-5"},{default:a(()=>[t(T,{color:"primary",variant:"flat",width:"100%",class:"text-none",onClick:R(u=>E(s),["stop"])},{default:a(()=>[...e[24]||(e[24]=[o(" Fazer Ditado ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Z,{modelValue:g.value.show,"onUpdate:modelValue":e[4]||(e[4]=s=>g.value.show=s),color:g.value.color,timeout:3e3},{default:a(()=>[o(n(g.value.mensagem),1)]),_:1},8,["modelValue","color"])]))}},he=O(be,[["__scopeId","data-v-b5054b52"]]);export{he as default};
