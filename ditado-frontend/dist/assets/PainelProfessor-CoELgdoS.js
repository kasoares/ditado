import{_ as re,u as ne,r as c,y as T,P as ie,I as b,d as a,c as m,m as de,w as t,l as f,U as P,M as ue,a as me,o as i,W as p,g as o,t as u,D as ce,X as g,h as n,i as s,Y as y,Z as E,j as x,G as B,B as fe,$ as pe,a0 as U,H as h,J as G,a1 as M,A as $,C as q,E as H,F as J,S as ve,q as ge,T as xe}from"./index-DH_fpEp9.js";import{d as W}from"./ditadoService-Bmjo6h44.js";const be={class:"text-h4 font-weight-bold mb-2"},ye={class:"d-flex align-center justify-space-between mb-2"},ke={class:"d-flex align-center justify-space-between mb-2"},Ve={class:"mt-4"},we={class:"d-flex flex-column gap-2 text-left text-caption text-grey-darken-1"},ze={class:"d-flex align-center"},Ce={class:"d-flex align-center"},_e={class:"mt-4"},Se={class:"d-flex flex-column gap-2 text-left text-caption text-grey-darken-1"},De={class:"d-flex align-center"},Te={class:"d-flex align-center"},Pe={class:"mt-4"},Ee={class:"d-flex flex-column gap-2 text-left text-caption text-grey-darken-1"},Be={class:"d-flex align-center"},Fe={class:"d-flex align-center"},Ie={class:"text-caption mt-1"},Le={class:"d-flex gap-2"},je={key:0,class:"text-center py-12"},Ae={key:1,class:"text-center py-12"},Ne={key:2},Re={class:"d-flex align-center gap-2"},Ue={__name:"PainelProfessor",setup(he){const F=me(),X=ne(),w=c({turmas:0,ditados:0}),I=c([]),z=c([]),S=c(!1),C=c(!1),k=c(""),_=c(null),Y=["1º ano","2º ano","3º ano","4º ano","5º ano","6º ano","7º ano","8º ano","9º ano"],V=c({show:!1,mensagem:"",color:"info"}),L=T(()=>{let l=[...I.value];if(k.value&&k.value.trim()!==""){const e=k.value.toLowerCase().trim();l=l.filter(r=>{var d;return(d=r.titulo)==null?void 0:d.toLowerCase().includes(e)})}return _.value&&(l=l.filter(e=>e.serie===_.value)),l}),D=T(()=>z.value.length>0),j=T(()=>z.value.length);ie(()=>{Z(),K(),O()});async function Z(){C.value=!0;try{const l=await W.listarTodos();w.value.ditados=l.length}catch(l){console.error("Erro ao carregar estatísticas:",l)}finally{C.value=!1}}async function K(){S.value=!0;try{const l=await W.listarTodos();I.value=[],w.value.ditados=l.length}catch(l){console.error("Erro ao carregar ditados:",l),v("Erro ao carregar ditados","error")}finally{S.value=!1}}async function O(){try{z.value=[]}catch(l){console.error("Erro ao carregar solicitações pendentes:",l)}}async function Q(l){try{v("Funcionalidade ainda não implementada","warning")}catch(e){console.error("Erro ao aprovar solicitação:",e),v("Erro ao aprovar solicitação","error")}}async function ee(l){try{v("Funcionalidade ainda não implementada","warning")}catch(e){console.error("Erro ao rejeitar solicitação:",e),v("Erro ao rejeitar solicitação","error")}}function A(l){return new Date(l).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function te(l){return!l||!l.nome?"A":l.nome.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase()}function ae(l){return l>=80?"success":l>=60?"warning":"error"}function N(){F.push("/cadastro-ditado")}function oe(){F.push("/turmas")}function se(){v("Funcionalidade em desenvolvimento","info")}function le(l){v("Funcionalidade em desenvolvimento","info")}function v(l,e="info"){V.value={show:!0,mensagem:l,color:e}}return(l,e)=>(i(),b("div",null,[a(f,{class:"mb-6",elevation:"1"},{default:t(()=>[a(p,{class:"pa-6"},{default:t(()=>{var r,d;return[o("h1",be," Bem-vindo(a), "+u((d=(r=ce(X).usuario)==null?void 0:r.nome)==null?void 0:d.split(" ")[0]),1),e[3]||(e[3]=o("p",{class:"text-body-1 text-grey-darken-1"}," Gerencie textos, turmas, relatórios e ditados passados ",-1))]}),_:1})]),_:1}),a(P,{class:"mb-6"},{default:t(()=>[a(g,{cols:"12",sm:"6"},{default:t(()=>[a(f,{elevation:"1",class:"h-100"},{default:t(()=>[a(p,{class:"pa-6"},{default:t(()=>[o("div",ye,[a(n,{size:"40",color:"primary"},{default:t(()=>[...e[4]||(e[4]=[s("mdi-account-group",-1)])]),_:1}),C.value?(i(),m(E,{key:1,indeterminate:"",color:"primary",size:"32"})):(i(),m(y,{key:0,color:"primary",variant:"flat",size:"large"},{default:t(()=>[s(u(w.value.turmas),1)]),_:1}))]),e[5]||(e[5]=o("h3",{class:"text-h6 font-weight-bold"},"Turmas",-1)),e[6]||(e[6]=o("p",{class:"text-body-2 text-grey-darken-1 mb-0"},"Turmas cadastradas",-1))]),_:1})]),_:1})]),_:1}),a(g,{cols:"12",sm:"6"},{default:t(()=>[a(f,{elevation:"1",class:"h-100"},{default:t(()=>[a(p,{class:"pa-6"},{default:t(()=>[o("div",ke,[a(n,{size:"40",color:"info"},{default:t(()=>[...e[7]||(e[7]=[s("mdi-headphones",-1)])]),_:1}),C.value?(i(),m(E,{key:1,indeterminate:"",color:"info",size:"32"})):(i(),m(y,{key:0,color:"info",variant:"flat",size:"large"},{default:t(()=>[s(u(w.value.ditados),1)]),_:1}))]),e[8]||(e[8]=o("h3",{class:"text-h6 font-weight-bold"},"Ditados",-1)),e[9]||(e[9]=o("p",{class:"text-body-2 text-grey-darken-1 mb-0"},"Ditados cadastrados",-1))]),_:1})]),_:1})]),_:1})]),_:1}),a(P,{class:"mb-6"},{default:t(()=>[a(g,{cols:"12",md:"4"},{default:t(()=>[a(f,{elevation:"1",class:"h-100 action-card",hover:"",onClick:N},{default:t(()=>[a(p,{class:"pa-6 text-center"},{default:t(()=>[a(n,{size:"64",color:"primary",class:"mb-4"},{default:t(()=>[...e[10]||(e[10]=[s("mdi-file-document-plus",-1)])]),_:1}),e[16]||(e[16]=o("h3",{class:"text-h6 font-weight-bold mb-2"},"Cadastro de Textos",-1)),e[17]||(e[17]=o("p",{class:"text-body-2 text-grey-darken-1"}," Crie e organize textos para futuras sessões de ditado. ",-1)),a(x,{color:"primary",variant:"flat","prepend-icon":"mdi-plus",class:"mt-4 text-none"},{default:t(()=>[...e[11]||(e[11]=[s(" Novo texto ",-1)])]),_:1}),o("div",Ve,[a(B,{class:"mb-3"}),o("div",we,[o("div",ze,[a(n,{size:"16",class:"mr-2"},{default:t(()=>[...e[12]||(e[12]=[s("mdi-pound",-1)])]),_:1}),e[13]||(e[13]=o("span",null,"Etiquete por série, tema e dificuldade",-1))]),o("div",Ce,[a(n,{size:"16",class:"mr-2"},{default:t(()=>[...e[14]||(e[14]=[s("mdi-book-open",-1)])]),_:1}),e[15]||(e[15]=o("span",null,"Importe .txt ou cole conteúdo",-1))])])])]),_:1})]),_:1})]),_:1}),a(g,{cols:"12",md:"4"},{default:t(()=>[a(f,{elevation:"1",class:fe(["h-100 action-card",{"action-card-destaque":D.value}]),hover:"",onClick:oe},{default:t(()=>[a(p,{class:"pa-6 text-center"},{default:t(()=>[D.value?(i(),m(pe,{key:0,color:"error",floating:"",content:j.value,class:"mb-4"},{default:t(()=>[a(n,{size:"64",color:"success"},{default:t(()=>[...e[18]||(e[18]=[s("mdi-school",-1)])]),_:1})]),_:1},8,["content"])):(i(),m(n,{key:1,size:"64",color:"success",class:"mb-4"},{default:t(()=>[...e[19]||(e[19]=[s("mdi-school",-1)])]),_:1})),e[25]||(e[25]=o("h3",{class:"text-h6 font-weight-bold mb-2"},"Gerenciamento de Turma",-1)),e[26]||(e[26]=o("p",{class:"text-body-2 text-grey-darken-1"}," Adicione alunos, organize grupos e defina sessões. ",-1)),a(x,{color:"success",variant:"flat","prepend-icon":"mdi-account-plus",class:"mt-4 text-none"},{default:t(()=>[...e[20]||(e[20]=[s(" Novo aluno ",-1)])]),_:1}),o("div",_e,[a(B,{class:"mb-3"}),o("div",Se,[o("div",De,[a(n,{size:"16",class:"mr-2"},{default:t(()=>[...e[21]||(e[21]=[s("mdi-shield-lock",-1)])]),_:1}),e[22]||(e[22]=o("span",null,"Convites com código seguro",-1))]),o("div",Te,[a(n,{size:"16",class:"mr-2"},{default:t(()=>[...e[23]||(e[23]=[s("mdi-calendar",-1)])]),_:1}),e[24]||(e[24]=o("span",null,"Agende ditados por data e tempo",-1))])])])]),_:1})]),_:1},8,["class"])]),_:1}),a(g,{cols:"12",md:"4"},{default:t(()=>[a(f,{elevation:"1",class:"h-100 action-card",hover:"",onClick:se},{default:t(()=>[a(p,{class:"pa-6 text-center"},{default:t(()=>[a(n,{size:"64",color:"info",class:"mb-4"},{default:t(()=>[...e[27]||(e[27]=[s("mdi-chart-line",-1)])]),_:1}),e[33]||(e[33]=o("h3",{class:"text-h6 font-weight-bold mb-2"},"Relatórios",-1)),e[34]||(e[34]=o("p",{class:"text-body-2 text-grey-darken-1"}," Acompanhe evolução por aluno, turma e habilidade. ",-1)),a(x,{color:"info",variant:"flat","prepend-icon":"mdi-chart-box",class:"mt-4 text-none"},{default:t(()=>[...e[28]||(e[28]=[s(" Visão geral ",-1)])]),_:1}),o("div",Pe,[a(B,{class:"mb-3"}),o("div",Ee,[o("div",Be,[a(n,{size:"16",class:"mr-2"},{default:t(()=>[...e[29]||(e[29]=[s("mdi-percent",-1)])]),_:1}),e[30]||(e[30]=o("span",null,"Taxa de acerto por fonema e acentuação",-1))]),o("div",Fe,[a(n,{size:"16",class:"mr-2"},{default:t(()=>[...e[31]||(e[31]=[s("mdi-clock-outline",-1)])]),_:1}),e[32]||(e[32]=o("span",null,"Comparativos entre turmas",-1))])])])]),_:1})]),_:1})]),_:1})]),_:1}),D.value?(i(),m(f,{key:0,class:"mb-6 elevation-1 border-error"},{default:t(()=>[a(U,{class:"bg-error text-white pa-4 d-flex align-center"},{default:t(()=>[a(n,{class:"mr-2"},{default:t(()=>[...e[35]||(e[35]=[s("mdi-bell-ring",-1)])]),_:1}),e[36]||(e[36]=s(" Solicitações de Ingresso Pendentes ",-1)),a(y,{color:"white","text-color":"error",size:"small",class:"ml-2"},{default:t(()=>[s(u(j.value),1)]),_:1})]),_:1}),a(p,{class:"pa-6"},{default:t(()=>[a(h,{class:"bg-transparent"},{default:t(()=>[(i(!0),b(G,null,M(z.value,r=>(i(),m($,{key:r.id,class:"mb-3 rounded border",elevation:"0"},{prepend:t(()=>[a(J,{color:"warning"},{default:t(()=>[s(u(te(r.usuario)),1)]),_:2},1024)]),append:t(()=>[o("div",Le,[a(x,{icon:"mdi-check",size:"small",variant:"flat",color:"success",onClick:d=>Q(r)},null,8,["onClick"]),a(x,{icon:"mdi-close",size:"small",variant:"flat",color:"error",onClick:d=>ee(r)},null,8,["onClick"])])]),default:t(()=>[a(q,{class:"text-h6 font-weight-bold mb-1"},{default:t(()=>{var d;return[s(u((d=r.usuario)==null?void 0:d.nome),1)]}),_:2},1024),a(H,{class:"text-body-2 mb-2"},{default:t(()=>{var d;return[o("div",null,u((d=r.usuario)==null?void 0:d.email),1),o("div",Ie,[s(" Solicitado em "+u(A(r.dataSolicitacao))+" ",1),a(y,{color:"info",variant:"flat",size:"x-small",class:"ml-2"},{default:t(()=>{var R;return[s(u((R=r.turma)==null?void 0:R.nome),1)]}),_:2},1024)])]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):de("",!0),a(f,{elevation:"1"},{default:t(()=>[a(U,{class:"pa-6 d-flex align-center border-b"},{default:t(()=>[a(n,{class:"mr-3",color:"grey-darken-2"},{default:t(()=>[...e[37]||(e[37]=[s("mdi-headphones",-1)])]),_:1}),e[39]||(e[39]=o("span",{class:"text-h6 font-weight-bold"},"Ditados passados",-1)),a(ve),a(y,{color:"warning",variant:"flat"},{default:t(()=>[...e[38]||(e[38]=[s(" Últimos 30 dias ",-1)])]),_:1})]),_:1}),a(p,{class:"pa-6"},{default:t(()=>[a(P,{class:"mb-4"},{default:t(()=>[a(g,{cols:"12",sm:"6"},{default:t(()=>[a(ge,{modelValue:k.value,"onUpdate:modelValue":e[0]||(e[0]=r=>k.value=r),label:"Filtrar por turma",placeholder:"Digite o nome da turma",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-magnify",clearable:"","hide-details":""},null,8,["modelValue"])]),_:1}),a(g,{cols:"12",sm:"6"},{default:t(()=>[a(xe,{modelValue:_.value,"onUpdate:modelValue":e[1]||(e[1]=r=>_.value=r),label:"Série",items:Y,variant:"outlined",density:"comfortable",clearable:"","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),S.value?(i(),b("div",je,[a(E,{indeterminate:"",color:"primary",size:"64"}),e[40]||(e[40]=o("p",{class:"text-grey mt-4"},"Carregando ditados...",-1))])):L.value.length===0?(i(),b("div",Ae,[a(n,{size:"64",color:"grey-lighten-1"},{default:t(()=>[...e[41]||(e[41]=[s("mdi-folder-open-outline",-1)])]),_:1}),e[43]||(e[43]=o("p",{class:"text-body-1 text-grey mt-4"},"Nenhum ditado encontrado",-1)),a(x,{color:"primary",variant:"flat","prepend-icon":"mdi-plus",class:"mt-4 text-none",onClick:N},{default:t(()=>[...e[42]||(e[42]=[s(" Configure um novo ditado a partir de um texto existente na sua biblioteca ",-1)])]),_:1})])):(i(),b("div",Ne,[a(h,{class:"bg-transparent"},{default:t(()=>[(i(!0),b(G,null,M(L.value,r=>(i(),m($,{key:r.id,class:"mb-3 rounded border",elevation:"0"},{prepend:t(()=>[a(J,{color:"primary",size:"48"},{default:t(()=>[a(n,{color:"white"},{default:t(()=>[...e[44]||(e[44]=[s("mdi-headphones",-1)])]),_:1})]),_:1})]),append:t(()=>[o("div",Re,[a(y,{color:ae(r.media||78),variant:"flat",size:"large"},{default:t(()=>[a(n,{start:"",size:"18"},{default:t(()=>[...e[47]||(e[47]=[s("mdi-check-circle",-1)])]),_:1}),s(" Média "+u(r.media||"78")+"% ",1)]),_:2},1032,["color"]),a(x,{icon:"mdi-open-in-new",size:"small",variant:"text",color:"primary",onClick:d=>le(r)},null,8,["onClick"])])]),default:t(()=>[a(q,{class:"text-h6 font-weight-bold mb-1"},{default:t(()=>[s(u(r.titulo),1)]),_:2},1024),a(H,{class:"text-body-2 mb-2"},{default:t(()=>[a(n,{size:"16",class:"mr-1"},{default:t(()=>[...e[45]||(e[45]=[s("mdi-calendar",-1)])]),_:1}),s(" Realizado em "+u(A(r.dataCriacao))+" ",1),a(n,{size:"16",class:"ml-3 mr-1"},{default:t(()=>[...e[46]||(e[46]=[s("mdi-account-multiple",-1)])]),_:1}),s(" "+u(r.alunos||"24")+" alunos ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]))]),_:1})]),_:1}),a(ue,{modelValue:V.value.show,"onUpdate:modelValue":e[2]||(e[2]=r=>V.value.show=r),color:V.value.color,timeout:3e3},{default:t(()=>[s(u(V.value.mensagem),1)]),_:1},8,["modelValue","color"])]))}},$e=re(Ue,[["__scopeId","data-v-c5d443d3"]]);export{$e as default};
